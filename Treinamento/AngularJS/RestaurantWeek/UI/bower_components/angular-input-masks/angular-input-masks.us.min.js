!function(e){var r=function(){var e={0:{pattern:/\d/,_default:"0"},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,optional:!0,recursive:!0},S:{pattern:/[a-zA-Z]/},$:{escape:!0}},r=function(r,i){for(var t=0,n=i-1,a={escape:!0};n>=0&&a&&a.escape;)a=e[r.charAt(n)],t+=a&&a.escape?1:0,n--;return t>0&&t%2===1},i=function(e,r){var i=e.replace(/[^0]/g,"").length,t=r.replace(/[^\d]/g,"").length;return t-i},t=function(e,r,i){return i.reverse?r+e:e+r},n=function(r,i,t){var a=r.charAt(i),s=e[a];return""===a?!1:s&&!s.escape?!0:n(r,i+t,t)},a=function(e,r,i){var t=e.split("");return t.splice(i>=0?i:0,0,r),t.join("")},s=function(u,o){this.options=o||{},this.options={reverse:this.options.reverse||!1,usedefaults:this.options.usedefaults||this.options.reverse},this.pattern=u,s.prototype.process=function(s){if(!s)return"";s+="";for(var u=this.pattern,o=!0,l="",c=this.options.reverse?s.length-1:0,f=i(u,s),p=!1,m=[],d=!1,v={start:this.options.reverse?u.length-1:0,end:this.options.reverse?-1:u.length,inc:this.options.reverse?-1:1},h=function(e){if(!d&&n(u,g,v.inc))return!0;if(d||(d=m.length>0),d){var r=m.shift();if(m.push(r),e.reverse&&c>=0)return g++,u=a(u,r,g),!0;if(!e.reverse&&c<s.length)return u=a(u,r,g),!0}return g<u.length&&g>=0},g=v.start;h(this.options);g+=v.inc){var $=u.charAt(g),M=s.charAt(c),k=e[$];if(!d||M){if(this.options.reverse&&r(u,g)){l=t(l,$,this.options),g+=v.inc;continue}if(!this.options.reverse&&p){l=t(l,$,this.options),p=!1;continue}if(!this.options.reverse&&k&&k.escape){p=!0;continue}}if(!d&&k&&k.recursive)m.push($);else{if(d&&!M){k&&k.recursive||(l=t(l,$,this.options));continue}if(m.length>0&&k&&!k.recursive){o=!1;continue}if(!d&&m.length>0&&!M)continue}if(k)if(k.optional){if(k.pattern.test(M)&&f)l=t(l,M,this.options),c+=v.inc,f--;else if(m.length>0&&M){o=!1;break}}else if(k.pattern.test(M))l=t(l,M,this.options),c+=v.inc;else{if(M||!k._default||!this.options.usedefaults){o=!1;break}l=t(l,k._default,this.options)}else l=t(l,$,this.options),!d&&m.length&&m.push($)}return{result:l,valid:o}},s.prototype.apply=function(e){return this.process(e).result},s.prototype.validate=function(e){return this.process(e).valid}};return s.process=function(e,r,i){return new s(r,i).process(e)},s.apply=function(e,r,i){return new s(r,i).apply(e)},s.validate=function(e,r,i){return new s(r,i).validate(e)},s}(),i={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};i[typeof module]&&(module.exports=r),e.module("ui.utils.masks.us",["ui.utils.masks.helpers","ui.utils.masks.us.phone"]),e.module("ui.utils.masks.us.phone",[]).factory("usPhoneValidators",[function(){return{usPhoneNumber:function(e,r){var i=e.$isEmpty(r)||r.length>9;return e.$setValidity("us-phone-number",i),r}}}]).directive("uiUsPhoneNumber",["usPhoneValidators",function(e){function i(e){return e?e.replace(/[^0-9]/g,""):e}function t(e){if(!e)return e;var r;return r=e.length<11?n.apply(e):a.apply(e),r.trim().replace(/[^0-9]$/,"")}var n=new r("(000) 000-0000"),a=new r("+00-00-000-000000");return{restrict:"A",require:"?ngModel",link:function(r,n,a,s){s&&(s.$formatters.push(function(r){return t(e.usPhoneNumber(s,r))}),s.$parsers.push(function(e){if(!e)return e;var r=i(e),n=t(r);return s.$viewValue!==n&&(s.$setViewValue(n),s.$render()),i(n)}),s.$parsers.push(function(r){return e.usPhoneNumber(s,r)}))}}}]),e.module("ui.utils.masks.global",["ui.utils.masks.helpers","ui.utils.masks.global.date","ui.utils.masks.global.money","ui.utils.masks.global.number","ui.utils.masks.global.percentage","ui.utils.masks.global.scientific-notation","ui.utils.masks.global.time"]);var t;"undefined"!=typeof moment&&(t=moment);var n=[];try{e.module("angular-momentjs"),n.push("angular-momentjs")}catch(a){}e.module("ui.utils.masks.global.date",n).directive("uiDateMask",["$locale","$log","$injector",function(i,n,a){var s;if("undefined"==typeof t){if(!a.has("MomentJS"))throw new Error("Moment.js not found. Check if it is available.");s=a.get("MomentJS")}else s=t;var u={"pt-br":"DD/MM/YYYY"},o=u[i.id]||"YYYY-MM-DD";return{restrict:"A",require:"?ngModel",link:function(i,t,a,u){function l(r){return e.isUndefined(r)?r:r.replace(/[^0-9]/g,"")}function c(r){if(!e.isUndefined(r)&&0!==r.length){var i=l(r),t=d.process(i).result;return t.trim().replace(/[^0-9]$/,"")}}function f(r){if(n.debug("[uiDateMask] Formatter called: ",r),!e.isUndefined(r)){var i=c(s(r).format(o));return m(i),i}}function p(e){n.debug("[uiDateMask] Parser called: ",e);var r=c(e);n.debug("[uiDateMask] Formated value: ",r),u.$viewValue!==r&&(u.$setViewValue(r),u.$render()),m(r);var i=s(r,o);return i.toDate()}function m(e){n.debug("[uiDateMask] Validator called: ",e);var r=s(e,o).isValid()&&e.length===o.length;u.$setValidity("date",u.$isEmpty(e)||r)}var d=new r(o.replace(/[YMD]/g,"0"));u.$formatters.push(f),u.$parsers.push(p)}}}]),e.module("ui.utils.masks.global.money",["ui.utils.masks.helpers"]).directive("uiMoneyMask",["$locale","$parse","PreFormatters","NumberValidators",function(i,t,n,a){return{restrict:"A",require:"?ngModel",link:function(s,u,o,l){function c(e){if(!e)return e;var r=e.replace(/[^\d]+/g,"");r=r.replace(/^[0]+([1-9])/,"$1");var i=g.apply(r);return e!==i&&(l.$setViewValue(i),l.$render()),i?parseInt(i.replace(/[^\d]+/g,""))/Math.pow(10,d):null}var f=i.NUMBER_FORMATS.DECIMAL_SEP,p=i.NUMBER_FORMATS.GROUP_SEP,m=i.NUMBER_FORMATS.CURRENCY_SYM,d=parseInt(o.uiMoneyMask);if(l){e.isDefined(o.uiHideGroupSep)&&(p=""),isNaN(d)&&(d=2);var v=d>0?f+new Array(d+1).join("0"):"",h=m+" #"+p+"##0"+v,g=new r(h,{reverse:!0});l.$formatters.push(function(r){if(e.isUndefined(r))return r;var i=n.prepareNumberToFormatter(r,d);return g.apply(i)}),l.$parsers.push(c),o.uiMoneyMask&&s.$watch(o.uiMoneyMask,function(e){isNaN(e)&&(e=2),v=e>0?f+new Array(e+1).join("0"):"",h=m+" #"+p+"##0"+v,g=new r(h,{reverse:!0}),c(l.$viewValue||"")}),o.min&&(l.$parsers.push(function(e){var r=t(o.min)(s);return a.minNumber(l,e,r)}),s.$watch(o.min,function(e){a.minNumber(l,l.$modelValue,e)})),o.max&&(l.$parsers.push(function(e){var r=t(o.max)(s);return a.maxNumber(l,e,r)}),s.$watch(o.max,function(e){a.maxNumber(l,l.$modelValue,e)}))}}}}]),e.module("ui.utils.masks.global.number",["ui.utils.masks.helpers"]).directive("uiNumberMask",["$locale","$parse","PreFormatters","NumberMasks","NumberValidators",function(r,i,t,n,a){return{restrict:"A",require:"?ngModel",link:function(s,u,o,l){function c(r){if(!r)return r;var i=t.clearDelimitersAndLeadingZeros(r)||"0",n=d.apply(i),a=parseFloat(v.apply(i));if(e.isDefined(o.uiNegativeNumber)){var s="-"===r[0],u="-"===r.slice(-1);u^s&&a&&(a*=-1,n="-"+n)}return l.$viewValue!==n&&(l.$setViewValue(n),l.$render()),a}var f=r.NUMBER_FORMATS.DECIMAL_SEP,p=r.NUMBER_FORMATS.GROUP_SEP,m=i(o.uiNumberMask)(s);if(l){e.isDefined(o.uiHideGroupSep)&&(p=""),isNaN(m)&&(m=2);var d=n.viewMask(m,f,p),v=n.modelMask(m);l.$formatters.push(function(r){var i="";if(e.isDefined(o.uiNegativeNumber)&&0>r&&(i="-"),!r)return r;var n=t.prepareNumberToFormatter(r,m);return i+d.apply(n)}),l.$parsers.push(c),o.uiNumberMask&&s.$watch(o.uiNumberMask,function(e){isNaN(e)&&(e=2),d=n.viewMask(e,f,p),v=n.modelMask(e),c(l.$viewValue||"")}),o.min&&(l.$parsers.push(function(e){var r=i(o.min)(s);return a.minNumber(l,e,r)}),s.$watch(o.min,function(e){a.minNumber(l,l.$modelValue,e)})),o.max&&(l.$parsers.push(function(e){var r=i(o.max)(s);return a.maxNumber(l,e,r)}),s.$watch(o.max,function(e){a.maxNumber(l,l.$modelValue,e)}))}}}}]),e.module("ui.utils.masks.global.percentage",["ui.utils.masks.helpers"]).directive("uiPercentageMask",["$locale","$parse","PreFormatters","NumberMasks","NumberValidators",function(r,i,t,n,a){function s(e,r){return t.clearDelimitersAndLeadingZeros((100*parseFloat(e)).toFixed(r))}return{restrict:"A",require:"?ngModel",link:function(u,o,l,c){function f(e){if(!e)return e;var r=t.clearDelimitersAndLeadingZeros(e)||"0";e.length>1&&-1===e.indexOf("%")&&(r=r.slice(0,r.length-1));var i=h.apply(r)+" %",n=parseFloat(g.apply(r));return c.$viewValue!==i&&(c.$setViewValue(i),c.$render()),n}var p=r.NUMBER_FORMATS.DECIMAL_SEP,m=r.NUMBER_FORMATS.GROUP_SEP,d=parseInt(l.uiPercentageMask);if(c){e.isDefined(l.uiHideGroupSep)&&(m=""),isNaN(d)&&(d=2);var v=d+2,h=n.viewMask(d,p,m),g=n.modelMask(v);c.$formatters.push(function(e){if(!e)return e;var r=s(e,d);return h.apply(r)+" %"}),c.$parsers.push(f),l.uiPercentageMask&&u.$watch(l.uiPercentageMask,function(e){isNaN(e)&&(e=2),v=e+2,h=n.viewMask(e,p,m),g=n.modelMask(v),f(c.$viewValue||"")}),l.min&&(c.$parsers.push(function(e){var r=i(l.min)(u);return a.minNumber(c,e,r)}),u.$watch("min",function(e){a.minNumber(c,c.$modelValue,e)})),l.max&&(c.$parsers.push(function(e){var r=i(l.max)(u);return a.maxNumber(c,e,r)}),u.$watch("max",function(e){a.maxNumber(c,c.$modelValue,e)}))}}}}]),e.module("ui.utils.masks.global.scientific-notation",[]).directive("uiScientificNotationMask",["$locale","$parse","$log",function(i,t,n){function a(e){var i="0";if(e>0){i+=s;for(var t=0;e>t;t++)i+="0"}return new r(i,{reverse:!0})}var s=i.NUMBER_FORMATS.DECIMAL_SEP,u=2;return{restrict:"A",require:"ngModel",link:function(r,i,o,l){function c(e){var r=e.toString(),i=r.match(/(-?[0-9]*)[\.]?([0-9]*)?[Ee]?([\+-]?[0-9]*)?/);return{integerPartOfSignificand:i[1],decimalPartOfSignificand:i[2],exponent:0|i[3]}}function f(r){if(n.debug("[uiScientificNotationMask] Formatter called: ",r),e.isUndefined(r))return r;if("string"==typeof r){if(0===r.length)return r;r=r.replace(s,".")}else"number"==typeof r&&(r=r.toExponential(d));var i,t,a=c(r),u=0|a.integerPartOfSignificand,o=u.toString();e.isDefined(a.decimalPartOfSignificand)&&(o+=a.decimalPartOfSignificand);var l=(u>=1||-1>=u)&&(e.isDefined(a.decimalPartOfSignificand)&&a.decimalPartOfSignificand.length>d||0===d&&o.length>=2);return l&&(t=o.slice(d+1,o.length),o=o.slice(0,d+1)),i=v.apply(o),0!==a.exponent&&(t=a.exponent),e.isDefined(t)&&(i+="e"+t),i}function p(r){if(n.debug("[uiScientificNotationMask] Parser called: ",r),e.isUndefined(r)||0===r.toString().length)return r;var i=f(r),t=parseFloat(i.replace(s,"."));return l.$viewValue!==i&&(l.$setViewValue(i),l.$render()),t}function m(r){if(n.debug("[uiScientificNotationMask] Validator called: ",r),e.isUndefined(r))return r;var i=r<Number.MAX_VALUE;return l.$setValidity("max",l.$isEmpty(r)||i),r}var d=t(o.uiScientificNotationMask)(r);isNaN(d)&&(d=u);var v=a(d);l.$formatters.push(f),l.$formatters.push(m),l.$parsers.push(p),l.$parsers.push(m)}}}]),e.module("ui.utils.masks.global.time",[]).directive("uiTimeMask",["$log",function(i){if("undefined"==typeof r)throw new Error("StringMask not found. Check if it is available.");return{restrict:"A",require:"?ngModel",link:function(t,n,a,s){function u(e){return e.replace(/[^0-9]/g,"").slice(0,f)}function o(r){if(i.debug("[uiTimeMask] Formatter called: ",r),e.isUndefined(r)||0===r.length)return r;var t=u(r);if(0==t.length)return"";var n=d.process(t).result;return n.replace(/[^0-9]$/,"")}function l(e){i.debug("[uiTimeMask] Parser called: ",e);var r=o(e),t=r;return s.$viewValue!==t&&(s.$setViewValue(t),s.$render()),r}function c(r){if(i.debug("[uiTimeMask] Validator called: ",r),e.isUndefined(r))return r;var t=r.toString().split(/:/).filter(function(e){return!!e}),n=parseInt(t[0]),a=parseInt(t[1]),u=parseInt(t[2]||0),o=r.toString().length===p&&24>n&&60>a&&60>u;return s.$setValidity("time",s.$isEmpty(r)||o),r}var f=6,p=8,m="00:00:00";e.isDefined(a.uiTimeMask)&&"short"===a.uiTimeMask&&(f=4,p=5,m="00:00");var d=new r(m);s.$formatters.push(o),s.$formatters.push(c),s.$parsers.push(l),s.$parsers.push(c)}}}]),e.module("ui.utils.masks.helpers",[]).factory("PreFormatters",[function(){function e(e){var r=e.replace(/^-/,"").replace(/^0*/,"");return r=r.replace(/[^0-9]/g,"")}function r(r,i){return e(parseFloat(r).toFixed(i))}return{clearDelimitersAndLeadingZeros:e,prepareNumberToFormatter:r}}]).factory("NumberValidators",[function(){return{maxNumber:function(e,r,i){var t=parseFloat(i),n=e.$isEmpty(r)||isNaN(t)||t>=r;return e.$setValidity("max",n),r},minNumber:function(e,r,i){var t=parseFloat(i),n=e.$isEmpty(r)||isNaN(t)||r>=t;return e.$setValidity("min",n),r}}}]).factory("NumberMasks",[function(){return{viewMask:function(e,i,t){var n="#"+t+"##0";if(e>0){n+=i;for(var a=0;e>a;a++)n+="0"}return new r(n,{reverse:!0})},modelMask:function(e){var i="###0";if(e>0){i+=".";for(var t=0;e>t;t++)i+="0"}return new r(i,{reverse:!0})}}}]);var s=["ui.utils.masks.global","ui.utils.masks.br","ui.utils.masks.us"].filter(function(r){try{return e.module(r),!0}catch(i){return!1}});e.module("ui.utils.masks",s).config(["$logProvider",function(e){e.debugEnabled(!1)}])}(angular);